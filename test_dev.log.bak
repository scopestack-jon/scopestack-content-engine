
> my-v0-project@0.1.0 dev
> next dev

 ⚠ Port 3000 is in use, trying 3001 instead.
   ▲ Next.js 15.2.4
   - Local:        http://localhost:3001
   - Network:      http://192.168.7.111:3001
   - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 1183ms
 ✓ Compiled /api/research in 403ms (410 modules)
OPENROUTER_API_KEY: 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
 POST /api/research 400 in 505ms
🔍 Starting research for: test openrouter api key
🔍 Performing Perplexity-based active research for: test openrouter api key
API call attempt 1 failed: HTTP 404: Not Found
Retrying after 1135.4069937520696ms...
API call attempt 2 failed: HTTP 404: Not Found
Retrying after 2816.830304827192ms...
API call attempt 3 failed: HTTP 404: Not Found
❌ Perplexity research failed: Error: HTTP 404: Not Found
    at OptimizedAPIClient.makeAPICall (lib/api-optimizations.ts:183:16)
    at async CircuitBreaker.execute (lib/api-optimizations.ts:83:21)
    at async OptimizedAPIClient.callWithOptimizations (lib/api-optimizations.ts:140:19)
    at async performPerplexityResearch (app/api/research/route.ts:1289:21)
    at async Object.start (app/api/research/route.ts:1864:31)
  181 |         
  182 |         if (!response.ok) {
> 183 |           throw new Error(`HTTP ${response.status}: ${response.statusText}`)
      |                ^
  184 |         }
  185 |         
  186 |         const data = await response.json()
✅ Generated 5 AI-driven questions based on research
✅ Generated 3 AI-driven services based on research
✅ Generated 5 calculations mapped to actual questions
 POST /api/research 200 in 26769ms
 ✓ Compiled in 110ms (134 modules)
 ✓ Compiled in 62ms (134 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: test perplexity model fix
🔍 Performing Perplexity-based active research for: test perplexity model fix
API call attempt 1 failed: HTTP 400: Bad Request
Retrying after 1922.612198653737ms...
API call attempt 2 failed: HTTP 400: Bad Request
Retrying after 2688.04366908731ms...
API call attempt 3 failed: HTTP 400: Bad Request
❌ Perplexity research failed: Error: HTTP 400: Bad Request
    at OptimizedAPIClient.makeAPICall (lib/api-optimizations.ts:183:16)
    at async CircuitBreaker.execute (lib/api-optimizations.ts:83:21)
    at async OptimizedAPIClient.callWithOptimizations (lib/api-optimizations.ts:140:19)
    at async performPerplexityResearch (app/api/research/route.ts:1289:21)
    at async Object.start (app/api/research/route.ts:1864:31)
  181 |         
  182 |         if (!response.ok) {
> 183 |           throw new Error(`HTTP ${response.status}: ${response.statusText}`)
      |                ^
  184 |         }
  185 |         
  186 |         const data = await response.json()
✅ Generated 5 AI-driven questions based on research
Failed to parse AI services: SyntaxError: Unexpected token 'I', "I apologiz"... is not valid JSON
    at JSON.parse (<anonymous>)
    at generateServicesFromResearch (app/api/research/route.ts:1659:24)
    at async Object.start (app/api/research/route.ts:1907:27)
  1657 |         services = JSON.parse(jsonMatch[0]);
  1658 |       } else {
> 1659 |         services = JSON.parse(aiContent);
       |                        ^
  1660 |       }
  1661 |     } catch (parseError) {
  1662 |       console.warn('Failed to parse AI services:', parseError);
✅ Generated 5 calculations mapped to actual questions
 POST /api/research 200 in 18741ms
 ✓ Compiled in 10ms
 ✓ Compiled /api/research in 95ms (134 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: Salesforce implementation for healthcare with 200 users
🔍 Performing Perplexity-based active research for: Salesforce implementation for healthcare with 200 users
🔍 Perplexity research response received, parsing...
📝 Raw response length: 6669
📝 First 500 chars: {
  "sources": [    {
      "title": "Salesforce Health Cloud Implementation Guide 2025",
      "url": "https://www.getgenerative.ai/salesforce-health-cloud-implementation-guide/",
      "summary": "Provides a detailed step-by-step guide for implementing Salesforce Health Cloud in healthcare settings, covering business objectives, team building, data assessment, platform configuration, and integration with EHR systems using FHIR standards. It emphasizes compliance and regulatory alignment and in
📝 Last 200 chars: tinuity of care during the transition.",
    "Security architecture must incorporate encryption, access controls, and compliance auditing to protect sensitive patient data."
  ],
  "confidence": 0.9
}
🧹 Cleaned response length: 6669
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Salesforce Health Cloud Implementation Guide 2025",
      "url": "https://www.getgenerative.ai/salesforce-health-cloud-implementation-guide/",
      "summary": "Provides a detailed step-by-step guide for implementing Salesforce Health Cloud in healthcare setting
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 9
✅ Found 9 sources from Perplexity research
🔗 Source titles: [
  'Salesforce Health Cloud Implementation Guide 2025',
  'The Ultimate Guide to Salesforce Health Cloud Implementation for Healthcare Providers',
  'Salesforce Health Cloud Implementation Guide 2024',
  'Successfully Implementing Salesforce for Healthcare',
  'Complete Guide to Salesforce Health Cloud'
]
✅ Generated 5 AI-driven questions based on research
✅ Generated 4 AI-driven services based on research
✅ Generated 5 calculations mapped to actual questions
 POST /api/research 200 in 74276ms
 ○ Compiling / ...
 ✓ Compiled / in 1230ms (927 modules)
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 1393ms
 ✓ Compiled in 209ms (401 modules)
 ✓ Compiled /api/research in 81ms (546 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: Apple MDM Solution for a corporate environment 
🔍 Performing Perplexity-based active research for: Apple MDM Solution for a corporate environment 
🔍 Perplexity research response received, parsing...
📝 Raw response length: 7807
📝 First 500 chars: ```json
{
  "sources": [    {
      "title": "Apple Business Manager - Getting Started Guide",
      "url": "https://www.apple.com/business/docs/site/Apple_Business_Manager_Getting_Started_Guide.pdf",
      "summary": "Official Apple guide for setting up and managing Apple Business Manager, including MDM server authorization, device assignment, and integration with Apple Configurator. Covers both Apple-purchased and third-party devices, provisioning workflows, and default server assignment.",
  
📝 Last 200 chars: , security, architecture, and regulatory considerations.

**Confidence**: High, due to reliance on Apple’s own documentation and support resources, which are current, comprehensive, and authoritative.
🧹 Cleaned response length: 6198
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Apple Business Manager - Getting Started Guide",
      "url": "https://www.apple.com/business/docs/site/Apple_Business_Manager_Getting_Started_Guide.pdf",
      "summary": "Official Apple guide for setting up and managing Apple Business Manager, including MDM se
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 10
✅ Found 10 sources from Perplexity research
🔗 Source titles: [
  'Apple Business Manager - Getting Started Guide',
  'Managed Devices and Corporate Data',
  'Choose a mobile device management solution - Apple Support',
  "Exploring Apple's MDM Framework",
  'Understanding How MDM Works'
]
✅ Generated 6 AI-driven questions based on research
✅ Generated 4 AI-driven services based on research
✅ Generated 6 calculations mapped to actual questions
 POST /api/research 200 in 73239ms
 ✓ Compiled in 266ms (927 modules)
 ✓ Compiled in 199ms (927 modules)
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 148ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/1.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/1.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/server-development/12.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/server-development/12.pack.gz'
 ✓ Compiled /api/research in 45ms (546 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: Cisco Firepower Firewall implantation, migrating from a Palo Alto firewall with 100 ACL's, and support for 10 remote sites and 100 vpn users.
🔍 Performing Perplexity-based active research for: Cisco Firepower Firewall implantation, migrating from a Palo Alto firewall with 100 ACL's, and support for 10 remote sites and 100 vpn users.
🔍 Perplexity research response received, parsing...
📝 Raw response length: 6905
📝 First 500 chars: {
  "sources": [    {
      "title": "Cisco Firewall Quick Start Guide (Firepower 1010 setup) - YouTube",
      "url": "https://www.youtube.com/watch?v=-mzRctMg2pM",
      "summary": "Step-by-step video guide for initial setup and configuration of Cisco Firepower 1010 firewall, including interface setup, routing, licensing, ACLs, NAT, and policy configuration, useful for understanding baseline deployment and ACL migration.",
      "credibility": "medium",
      "relevance": 0.75,
      "sourceTy
📝 Last 200 chars: user bases and site-to-site connectivity.",
    "Official installation and upgrade guides ensure proper hardware and software deployment for Firepower 1000 series devices."
  ],
  "confidence": 0.90
}
🧹 Cleaned response length: 6905
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Cisco Firewall Quick Start Guide (Firepower 1010 setup) - YouTube",
      "url": "https://www.youtube.com/watch?v=-mzRctMg2pM",
      "summary": "Step-by-step video guide for initial setup and configuration of Cisco Firepower 1010 firewall, including interface s
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 10
✅ Found 10 sources from Perplexity research
🔗 Source titles: [
  'Cisco Firewall Quick Start Guide (Firepower 1010 setup) - YouTube',
  'Cisco Firepower Hardening Guide - Department of Defense',
  'Cisco Secure Firewall Reference Guide',
  'Cisco Firepower 1000 Series - Install and Upgrade Guides',
  'Cisco Secure Firewall Threat Defense - Install and Upgrade Guides'
]
✅ Generated 5 AI-driven questions based on research
✅ Generated 4 AI-driven services based on research
✅ Generated 5 calculations mapped to actual questions
 POST /api/research 200 in 61710ms
 ✓ Compiled in 209ms (927 modules)
 GET / 200 in 66ms
 ✓ Compiled in 136ms (927 modules)
 GET / 200 in 51ms
 ✓ Compiled /api/research in 37ms (546 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: Cisco Wireless Survey and Implementation for 5ghz in a warehouse
🔍 Performing Perplexity-based active research for: Cisco Wireless Survey and Implementation for 5ghz in a warehouse
🔍 Perplexity research response received, parsing...
📝 Raw response length: 4259
📝 First 500 chars: ```json
{
  "sources": [    {
      "title": "Understand Site Survey Guidelines for WLAN Deployment",
      "url": "https://www.cisco.com/c/en/us/support/docs/wireless/5500-series-wireless-controllers/116057-site-survey-guidelines-wlan-00.html",
      "summary": "Cisco’s official guide on WLAN site surveys, covering planning, preparation, and execution for wireless deployments, including passive, active, and predictive survey types. Essential for understanding Cisco’s methodology for RF assessme
📝 Last 200 chars: ditional sources from Cisco’s technical whitepaper library, regulatory bodies (e.g., FCC, ETSI), and professional services case studies would be ideal but were not found in the current search results.
🧹 Cleaned response length: 3691
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Understand Site Survey Guidelines for WLAN Deployment",
      "url": "https://www.cisco.com/c/en/us/support/docs/wireless/5500-series-wireless-controllers/116057-site-survey-guidelines-wlan-00.html",
      "summary": "Cisco’s official guide on WLAN site surveys,
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 4
✅ Found 4 sources from Perplexity research
🔗 Source titles: [
  'Understand Site Survey Guidelines for WLAN Deployment',
  'Warehouse Wi-Fi - Best Practice',
  'Survey Mode 5Ghz ? - The Meraki Community',
  'optimizing wireless signal in warehouse'
]
✅ Generated 6 AI-driven questions based on research
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
✅ Generated 4 AI-driven services based on research
✅ Generated 6 calculations mapped to actual questions
 POST /api/research 200 in 49145ms
 ✓ Compiled in 79ms (401 modules)
 GET / 200 in 53ms
 ✓ Compiled in 58ms (401 modules)
 GET / 200 in 8ms
 ✓ Compiled in 56ms (401 modules)
 GET / 200 in 21ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 74ms (401 modules)
 GET / 200 in 26ms
 ✓ Compiled in 57ms (401 modules)
 GET / 200 in 8ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 88ms (401 modules)
 GET / 200 in 41ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 67ms (401 modules)
 GET / 200 in 28ms
 ✓ Compiled in 54ms (401 modules)
 GET / 200 in 7ms
 ✓ Compiled in 51ms (401 modules)
 GET / 200 in 9ms
 ✓ Compiled in 52ms (401 modules)
 GET / 200 in 31ms
 ✓ Compiled in 53ms (401 modules)
 GET / 200 in 7ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 70ms (401 modules)
 GET / 200 in 117ms
 ✓ Compiled in 75ms (401 modules)
 GET / 200 in 8ms
 ✓ Compiled in 111ms (927 modules)
 GET / 200 in 78ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 110ms
 ✓ Compiled /api/research in 113ms (553 modules)
🔍 Starting research for: Microsoft Email Migration to Office 365 for a Hospital with 1000 users
🔍 Performing Perplexity-based active research for: Microsoft Email Migration to Office 365 for a Hospital with 1000 users
 GET / 200 in 91ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5278
📝 First 500 chars: {
  "sources": [    {
      "title": "How to seamlessly migrate Microsoft Exchange to Office 365",
      "url": "https://exclaimer.com/email-signature-handbook/how-to-migrate-microsoft-exchange-to-office-365/",
      "summary": "This guide details a staged migration approach from Microsoft Exchange to Office 365, including domain verification, DNS record updates, directory synchronization with Azure AD Connect, migration endpoint creation, mail flow configuration, coexistence planning, and mailb
📝 Last 200 chars: hared mailboxes must be carefully managed to avoid service disruption",
    "Migration timelines should accommodate testing phases for mail flow and user access validation"
  ],
  "confidence": 0.85
}
🧹 Cleaned response length: 5278
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "How to seamlessly migrate Microsoft Exchange to Office 365",
      "url": "https://exclaimer.com/email-signature-handbook/how-to-migrate-microsoft-exchange-to-office-365/",
      "summary": "This guide details a staged migration approach from Microsoft Exchange 
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'How to seamlessly migrate Microsoft Exchange to Office 365',
  'Use the Microsoft 365 and Office 365 mail migration advisor',
  'Ways to migrate multiple email accounts to Microsoft 365 or Office 365',
  'Microsoft 365 Migration Guide: Steps & Checklist',
  'Office 365 Migration Plan: 8 Key Steps For a Successful Migration'
]
API call attempt 1
✅ Generated 6 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
❌ Research orchestration failed: ReferenceError: Cannot access 'content' before initialization
    at eval (app/api/research/route.ts:71:39)
    at ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:103:19)
    at async Object.start (app/api/research/route.ts:44:26)
  69 |             } else if (event.type === 'complete') {
  70 |               // Format sources for frontend compatibility (expects "URL | Title | Quality" format)
> 71 |               const formattedSources = content.sources.map((source: any) => 
     |                                       ^
  72 |                 `${source.url} | ${source.title} | ${source.credibility.toUpperCase()}`
  73 |               );
  74 |               
 POST /api/research 200 in 47486ms
 ✓ Compiled in 155ms (927 modules)
 GET / 200 in 88ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 115ms
 ✓ Compiled /api/research in 58ms (553 modules)
🔍 Starting research for: Microsoft Email Migration to Office 365 for a Hospital with 1000 users
🔍 Performing Perplexity-based active research for: Microsoft Email Migration to Office 365 for a Hospital with 1000 users
 GET / 200 in 105ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5312
📝 First 500 chars: ```json
{
  "sources": [    {
      "title": "How to seamlessly migrate Microsoft Exchange to Office 365",
      "url": "https://exclaimer.com/email-signature-handbook/how-to-migrate-microsoft-exchange-to-office-365/",
      "summary": "Provides a step-by-step guide for migrating from Microsoft Exchange to Office 365, including domain verification, directory synchronization, migration endpoint setup, mail flow configuration, and mailbox migration. Emphasizes coexistence planning and monitoring d
📝 Last 200 chars: rtner with healthcare experience can mitigate risks and accelerate the migration, especially for organizations with complex integrations or compliance requirements[3]."
  ],
  "confidence": 0.85
}
```
🧹 Cleaned response length: 5300
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "How to seamlessly migrate Microsoft Exchange to Office 365",
      "url": "https://exclaimer.com/email-signature-handbook/how-to-migrate-microsoft-exchange-to-office-365/",
      "summary": "Provides a step-by-step guide for migrating from Microsoft Exchange to 
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'How to seamlessly migrate Microsoft Exchange to Office 365',
  'Use the Microsoft 365 and Office 365 mail migration advisor',
  'Ways to migrate multiple email accounts to Microsoft 365 or Office 365',
  'Microsoft 365 Migration Guide: Steps & Checklist',
  'Office 365 Migration Plan: 8 Key Steps For a Successful Email Migration'
]
API call attempt 1
✅ Generated 7 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 8 calculations mapped to actual questions
 POST /api/research 200 in 43442ms
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 100ms
🔍 Starting research for: Nutanix hyperconverged infrastructure install to support E Clinical Works EMR Build - supporting redundancy across 2 data centers.
🔍 Performing Perplexity-based active research for: Nutanix hyperconverged infrastructure install to support E Clinical Works EMR Build - supporting redundancy across 2 data centers.
🔍 Perplexity research response received, parsing...
📝 Raw response length: 6614
📝 First 500 chars: {
  "sources": [    {
      "title": "The Definitive Guide to Hyperconverged Infrastructure - SHI",
      "url": "https://www.content.shi.com/cms-content/accelerator/media/pdfs/nutanix/nutanix-032023-ebook-hyperconverged-infrastructure.pdf",
      "summary": "This comprehensive guide provides an overview of Nutanix hyperconverged infrastructure (HCI) including hardware platform configurations that can be independently scaled for CPU, RAM, and storage. It details Nutanix Cloud Infrastructure (NCI
📝 Last 200 chars: intain synchronous or asynchronous failover.",
    "Compliance with healthcare regulations demands robust data protection, auditability, and disaster recovery capabilities."
  ],
  "confidence": 0.9
}
🧹 Cleaned response length: 6614
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "The Definitive Guide to Hyperconverged Infrastructure - SHI",
      "url": "https://www.content.shi.com/cms-content/accelerator/media/pdfs/nutanix/nutanix-032023-ebook-hyperconverged-infrastructure.pdf",
      "summary": "This comprehensive guide provides an ove
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'The Definitive Guide to Hyperconverged Infrastructure - SHI',
  'Nutanix Cloud Infrastructure (NCI) - The Foundation for Your Hybrid Cloud',
  '5 Easy Steps to Setting up and Managing Cloud-ready Infrastructure',
  'Cisco Compute Hyperconverged with Nutanix - Software Support Guidelines',
  'What is Hyperconverged Infrastructure (HCI) - FAQs | Nutanix'
]
API call attempt 1
✅ Generated 6 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 42539ms
 ✓ Compiled in 149ms (927 modules)
 GET / 200 in 92ms
 ✓ Compiled in 60ms (401 modules)
 GET / 200 in 7ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 101ms
 ✓ Compiled /api/research in 55ms (553 modules)
🔍 Starting research for: Nutanix hyperconverged infrastructure install to support E Clinical Works EMR Build - supporting redundancy across 2 data centers.
🔍 Performing Perplexity-based active research for: Nutanix hyperconverged infrastructure install to support E Clinical Works EMR Build - supporting redundancy across 2 data centers.
 GET / 200 in 34ms
API call attempt 1 failed: HTTP 401: Unauthorized
Retrying after 1505.8007582906832ms...
API call attempt 2 failed: HTTP 401: Unauthorized
Retrying after 2264.508309533896ms...
API call attempt 3 failed: HTTP 401: Unauthorized
❌ Perplexity research failed: Error: HTTP 401: Unauthorized
    at OptimizedAPIClient.makeAPICall (lib/api-optimizations.ts:183:16)
    at async CircuitBreaker.execute (lib/api-optimizations.ts:83:21)
    at async OptimizedAPIClient.callWithOptimizations (lib/api-optimizations.ts:140:19)
    at async PerplexityResearchEngine.performResearch (lib/research/engines/perplexity-research.ts:79:23)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:35:27)
    at async Object.start (app/api/research/route.ts:44:26)
  181 |         
  182 |         if (!response.ok) {
> 183 |           throw new Error(`HTTP ${response.status}: ${response.statusText}`)
      |                ^
  184 |         }
  185 |         
  186 |         const data = await response.json()
❌ Research orchestration failed: Error: HTTP 401: Unauthorized
    at OptimizedAPIClient.makeAPICall (lib/api-optimizations.ts:183:16)
    at async CircuitBreaker.execute (lib/api-optimizations.ts:83:21)
    at async OptimizedAPIClient.callWithOptimizations (lib/api-optimizations.ts:140:19)
    at async PerplexityResearchEngine.performResearch (lib/research/engines/perplexity-research.ts:79:23)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:35:27)
    at async Object.start (app/api/research/route.ts:44:26)
  181 |         
  182 |         if (!response.ok) {
> 183 |           throw new Error(`HTTP ${response.status}: ${response.statusText}`)
      |                ^
  184 |         }
  185 |         
  186 |         const data = await response.json()
 POST /api/research 200 in 4923ms
 ✓ Compiled in 72ms (401 modules)
 GET / 200 in 29ms
 ✓ Compiled /_not-found in 117ms (917 modules)
 GET /_next/static/webpack/d1547d6afed5207a.webpack.hot-update.json 404 in 230ms
 ⚠ Fast Refresh had to perform a full reload. Read more: https://nextjs.org/docs/messages/fast-refresh-reload
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 76ms
 ✓ Compiled in 65ms (404 modules)
 GET / 200 in 10ms
 ✓ Compiled in 73ms (401 modules)
 GET / 200 in 8ms
   Reload env: .env.local
 ✓ Compiled in 85ms (913 modules)
 GET / 200 in 62ms
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 117ms
 ✓ Compiled /api/research in 40ms (553 modules)
🔍 Starting research for: Nutanix hyperconverged infrastructure install to support E Clinical Works EMR Build - supporting redundancy across 2 data centers.
🔍 Performing Perplexity-based active research for: Nutanix hyperconverged infrastructure install to support E Clinical Works EMR Build - supporting redundancy across 2 data centers.
🔍 Perplexity research response received, parsing...
📝 Raw response length: 3116
📝 First 500 chars: ```json
{
  "sources": [
    {
      "title": "The Definitive Guide to Hyperconverged Infrastructure",
      "url": "https://www.exclusive-networks.com/uk/wp-content/uploads/sites/28/2020/12/ebook-hyperconverged-infrastructure.pdf",
      "summary": "This guide provides an overview of hyperconverged infrastructure, focusing on Nutanix solutions. It discusses how HCI combines servers, storage, and virtualization to simplify datacenter management and improve scalability.",
      "credibility": "hi
📝 Last 200 chars: ction features like erasure coding and distributed consistency algorithms.",
    "Consider integrating with cloud services for disaster recovery and capacity bursting."
  ],
  "confidence": 0.85
}
```
🧹 Cleaned response length: 3104
🧹 Cleaned first 300 chars: {
  "sources": [
    {
      "title": "The Definitive Guide to Hyperconverged Infrastructure",
      "url": "https://www.exclusive-networks.com/uk/wp-content/uploads/sites/28/2020/12/ebook-hyperconverged-infrastructure.pdf",
      "summary": "This guide provides an overview of hyperconverged infrast
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 4
✅ Found 4 sources from Perplexity research
🔗 Source titles: [
  'The Definitive Guide to Hyperconverged Infrastructure',
  'Nutanix Cloud Infrastructure',
  'Cisco Compute Hyperconverged with Nutanix Support Guidelines',
  'What is Hyperconverged Infrastructure (HCI) - FAQs'
]
API call attempt 1
✅ Generated 6 AI-driven questions based on research
API call attempt 1
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 54204ms
 ✓ Compiled in 89ms (401 modules)
 GET / 200 in 64ms
   Reload env: .env.local
 ✓ Compiled in 80ms (913 modules)
 GET / 200 in 96ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 124ms (401 modules)
   Reload env: .env.local
 ✓ Compiled in 134ms (913 modules)
 GET / 200 in 174ms
 GET / 200 in 6ms
 ✓ Compiled /api/research in 44ms (553 modules)
🔍 Starting research for: test question format
🔍 Performing Perplexity-based active research for: test question format
🔍 Perplexity research response received, parsing...
📝 Raw response length: 3997
📝 First 500 chars: ```json
{
  "sources": [    {
      "title": "How to write better test questions for any assessment - Testportal",
      "url": "https://www.testportal.net/en/guides/questions/how-to-write-test-questions/",
      "summary": "Provides detailed best practices for writing effective test questions, focusing on clarity, consistency, and avoiding common pitfalls in question design. Covers stem construction, alternative phrasing, and the importance of not misleading test-takers. Offers practical exampl
📝 Last 200 chars: requires avoiding formats with high guessing probability (e.g., true/false) and ensuring all students are assessed on the same content for fairness and reliability[4]."
  ],
  "confidence": 0.85
}
```
🧹 Cleaned response length: 3985
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "How to write better test questions for any assessment - Testportal",
      "url": "https://www.testportal.net/en/guides/questions/how-to-write-test-questions/",
      "summary": "Provides detailed best practices for writing effective test questions, focusing on 
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 4
✅ Found 4 sources from Perplexity research
🔗 Source titles: [
  'How to write better test questions for any assessment - Testportal',
  'Designing Effective Exams & Test Questions',
  'Best Practices for Creating Multiple-Choice Questions',
  'Writing Effective Test Questions | School of Medicine Faculty Development'
]
API call attempt 1
✅ Generated 6 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 67138ms
 ✓ Compiled in 188ms (927 modules)
 GET / 200 in 88ms
 ✓ Compiled /api/research in 155ms (553 modules)
🔍 Starting research for: test debug question fields
🔍 Performing Perplexity-based active research for: test debug question fields
 GET / 200 in 32ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 2728
📝 First 500 chars: ```json
{
  "sources": [
    {
      "title": "Debugging Best Practices",
      "url": "https://www.meegle.com/en_us/topics/debugging/debugging-best-practices",
      "summary": "Provides a step-by-step guide to effective debugging, including reproducing issues, using debugging tools, and documenting findings. It also discusses avoiding common pitfalls and leveraging automation.",
      "credibility": "high",
      "relevance": 0.80,
      "sourceType": "guide"
    },
    {
      "title": "Best 
📝 Last 200 chars:  "Ensure thorough testing across different environments and dependencies.",
    "Leverage advanced debugging tools for efficient variable inspection and code stepping."
  ],
  "confidence": 0.85
}
```
🧹 Cleaned response length: 2716
🧹 Cleaned first 300 chars: {
  "sources": [
    {
      "title": "Debugging Best Practices",
      "url": "https://www.meegle.com/en_us/topics/debugging/debugging-best-practices",
      "summary": "Provides a step-by-step guide to effective debugging, including reproducing issues, using debugging tools, and documenting findin
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 4
✅ Found 4 sources from Perplexity research
🔗 Source titles: [
  'Debugging Best Practices',
  'Best Practices for Debugging During the QA Testing Phase',
  "The '20 Questions' Method of Debugging",
  'Debugging: Its Strategies And Tools With Best Practices'
]
API call attempt 1
Question 1 formatted: {
  text: 'What level of automated testing coverage currently exists for the debug fields?',
  question: 'What level of automated testing coverage currently exists for the debug fields?',
  slug: 'what_level_of_automated_testing_coverage_currently',
  hasOptions: true
}
Question 2 formatted: {
  text: 'How many distinct environments need debugging support implementation?',
  question: 'How many distinct environments need debugging support implementation?',
  slug: 'how_many_distinct_environments_need_debugging_supp',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What is the current state of debugging documentation?',
  question: 'What is the current state of debugging documentation?',
  slug: 'what_is_the_current_state_of_debugging_documentati',
  hasOptions: true
}
Question 4 formatted: {
  text: 'What debugging tools are currently implemented in the development workflow?',
  question: 'What debugging tools are currently implemented in the development workflow?',
  slug: 'what_debugging_tools_are_currently_implemented_in_',
  hasOptions: true
}
Question 5 formatted: {
  text: 'How complex are the dependencies affecting the debug fields?',
  question: 'How complex are the dependencies affecting the debug fields?',
  slug: 'how_complex_are_the_dependencies_affecting_the_deb',
  hasOptions: true
}
Question 6 formatted: {
  text: 'What is the desired time frame for implementing the debug field improvements?',
  question: 'What is the desired time frame for implementing the debug field improvements?',
  slug: 'what_is_the_desired_time_frame_for_implementing_th',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 53525ms
 ✓ Compiled in 136ms (927 modules)
 GET / 200 in 72ms
 ✓ Compiled /api/research in 47ms (553 modules)
🔍 Starting research for: test question validation fix
🔍 Performing Perplexity-based active research for: test question validation fix
 GET / 200 in 64ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 3620
📝 First 500 chars: ```json
{
  "sources": [
    {
      "title": "Why Validation Testing Is Key to Reliable Systems and Accurate Data",
      "url": "https://www.acceldata.io/blog/why-validation-testing-is-key-to-reliable-systems-and-accurate-data",
      "summary": "This source emphasizes the importance of validation testing in ensuring system reliability and data accuracy. It highlights best practices such as integrating validation into CI/CD pipelines, automating repetitive tests, maintaining comprehensive logs
📝 Last 200 chars: sting methods, including manual and automated testing, for comprehensive coverage.",
    "Prioritize critical functions and sensitive data during validation processes."
  ],
  "confidence": 0.85
}
```
🧹 Cleaned response length: 3608
🧹 Cleaned first 300 chars: {
  "sources": [
    {
      "title": "Why Validation Testing Is Key to Reliable Systems and Accurate Data",
      "url": "https://www.acceldata.io/blog/why-validation-testing-is-key-to-reliable-systems-and-accurate-data",
      "summary": "This source emphasizes the importance of validation testing
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'Why Validation Testing Is Key to Reliable Systems and Accurate Data',
  'Measuring test validity and reliability: A guide',
  'Best Practices for Successful System Integration Testing & Validation',
  'A brief introduction to: Test validation',
  'Data Validation Testing: Techniques, Examples, & Tools'
]
API call attempt 1
Question 1 formatted: {
  text: 'What type of test validation framework is currently implemented in your CI/CD pipeline?',
  question: 'What type of test validation framework is currently implemented in your CI/CD pipeline?',
  slug: 'what_type_of_test_validation_framework_is_currentl',
  hasOptions: true
}
Question 2 formatted: {
  text: 'How many test cases need validation fixes based on your current assessment?',
  question: 'How many test cases need validation fixes based on your current assessment?',
  slug: 'how_many_test_cases_need_validation_fixes_based_on',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What is the desired level of test automation coverage after implementation?',
  question: 'What is the desired level of test automation coverage after implementation?',
  slug: 'what_is_the_desired_level_of_test_automation_cover',
  hasOptions: true
}
Question 4 formatted: {
  text: 'What is the primary type of validation testing required for your system?',
  question: 'What is the primary type of validation testing required for your system?',
  slug: 'what_is_the_primary_type_of_validation_testing_req',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What is your expected timeline for implementing the test validation fixes?',
  question: 'What is your expected timeline for implementing the test validation fixes?',
  slug: 'what_is_your_expected_timeline_for_implementing_th',
  hasOptions: true
}
Question 6 formatted: {
  text: 'How many environments require test validation implementation?',
  question: 'How many environments require test validation implementation?',
  slug: 'how_many_environments_require_test_validation_impl',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 54519ms
🔍 Starting research for: test question fields after fix
🔍 Performing Perplexity-based active research for: test question fields after fix
🔍 Perplexity research response received, parsing...
📝 Raw response length: 3576
📝 First 500 chars: ```json
{
  "sources": [
    {
      "title": "Test Question Best Practices",
      "url": "https://success.appen.com/hc/en-us/articles/213078963-Test-Question-Best-Practices",
      "summary": "This article provides guidelines on creating effective test questions, emphasizing that they should be indistinguishable from regular data and follow job instructions. It also discusses the importance of clear reasoning and accepting multiple correct answers for subjective questions.",
      "credibility
📝 Last 200 chars: ge, Act, Assert' pattern for unit tests to ensure clarity and readability.",
    "Identify specific features, scenarios, and data for comprehensive test case creation."
  ],
  "confidence": 0.85
}
```
🧹 Cleaned response length: 3564
🧹 Cleaned first 300 chars: {
  "sources": [
    {
      "title": "Test Question Best Practices",
      "url": "https://success.appen.com/hc/en-us/articles/213078963-Test-Question-Best-Practices",
      "summary": "This article provides guidelines on creating effective test questions, emphasizing that they should be indistingu
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'Test Question Best Practices',
  'Best Practices for Online Test & Quiz Creation',
  'How to Write Effective Test Cases (With Templates)',
  'Best Practices (Objects, Test cases, and Tasks)',
  'Best practices for writing unit tests'
]
API call attempt 1
Question 1 formatted: {
  text: 'How many test question fields need to be validated after the fix?',
  question: 'How many test question fields need to be validated after the fix?',
  slug: 'how_many_test_question_fields_need_to_be_validated',
  hasOptions: true
}
Question 2 formatted: {
  text: 'What is the estimated effort required to implement randomization in the test question bank?',
  question: 'What is the estimated effort required to implement randomization in the test question bank?',
  slug: 'what_is_the_estimated_effort_required_to_implement',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What level of test case documentation is needed for this project?',
  question: 'What level of test case documentation is needed for this project?',
  slug: 'what_level_of_test_case_documentation_is_needed_fo',
  hasOptions: true
}
Question 4 formatted: {
  text: 'How many unique test scenarios need to be created to validate the fix?',
  question: 'How many unique test scenarios need to be created to validate the fix?',
  slug: 'how_many_unique_test_scenarios_need_to_be_created_',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What type of unit test framework will be used for the fix validation?',
  question: 'What type of unit test framework will be used for the fix validation?',
  slug: 'what_type_of_unit_test_framework_will_be_used_for_',
  hasOptions: true
}
Question 6 formatted: {
  text: 'What is the preferred approach for handling subjective test questions?',
  question: 'What is the preferred approach for handling subjective test questions?',
  slug: 'what_is_the_preferred_approach_for_handling_subjec',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 54857ms
 ✓ Compiled in 70ms (401 modules)
 GET / 200 in 10ms
🔍 Starting research for: quick test
🔍 Performing Perplexity-based active research for: quick test
 ✓ Compiled in 57ms (401 modules)
 GET / 200 in 10ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 3097
📝 First 500 chars: ```json
{
  "sources": [
    {
      "title": "10 Proven Steps to Quickly Write a QA Test Plan",
      "url": "https://www.softkraft.co/qa-test-plan/",
      "summary": "Provides steps for creating a QA test plan, focusing on optimizing resources and meeting business goals through effective software testing.",
      "credibility": "high",
      "relevance": 0.80,
      "sourceType": "guide"
    },
    {
      "title": "Guide to Effective Test Software Development with TestStand",
      "url": "h
📝 Last 200 chars: omated testing where feasible to reduce manual effort and increase efficiency.",
    "Regularly review and refine test plans to adapt to changing project requirements."
  ],
  "confidence": 0.85
}
```
🧹 Cleaned response length: 3085
🧹 Cleaned first 300 chars: {
  "sources": [
    {
      "title": "10 Proven Steps to Quickly Write a QA Test Plan",
      "url": "https://www.softkraft.co/qa-test-plan/",
      "summary": "Provides steps for creating a QA test plan, focusing on optimizing resources and meeting business goals through effective software testing
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  '10 Proven Steps to Quickly Write a QA Test Plan',
  'Guide to Effective Test Software Development with TestStand',
  'What is Rapid Software Testing and How Can I Implement It?',
  'Automated Software Testing Implementation Guide',
  'Software Testing Quick Guide'
]
API call attempt 1
Question 1 formatted: {
  text: 'What is the estimated size of the test suite that needs to be developed (number of test cases)?',
  question: 'What is the estimated size of the test suite that needs to be developed (number of test cases)?',
  slug: 'what_is_the_estimated_size_of_the_test_suite_that_',
  hasOptions: true
}
Question 2 formatted: {
  text: 'Which type of automated testing tools are currently in use within your organization?',
  question: 'Which type of automated testing tools are currently in use within your organization?',
  slug: 'which_type_of_automated_testing_tools_are_currentl',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What is your target automation coverage percentage for the test suite?',
  question: 'What is your target automation coverage percentage for the test suite?',
  slug: 'what_is_your_target_automation_coverage_percentage',
  hasOptions: true
}
Question 4 formatted: {
  text: 'How frequently do you anticipate running the test suite?',
  question: 'How frequently do you anticipate running the test suite?',
  slug: 'how_frequently_do_you_anticipate_running_the_test_',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What level of testing documentation is required for your organization?',
  question: 'What level of testing documentation is required for your organization?',
  slug: 'what_level_of_testing_documentation_is_required_fo',
  hasOptions: true
}
Question 6 formatted: {
  text: 'What is the desired timeline for implementing the quick test strategy?',
  question: 'What is the desired timeline for implementing the quick test strategy?',
  slug: 'what_is_the_desired_timeline_for_implementing_the_',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 85530ms
 ✓ Compiled in 65ms (401 modules)
 GET / 200 in 9ms
 ✓ Compiled in 211ms (927 modules)
 GET / 200 in 87ms
 ✓ Compiled in 62ms (401 modules)
 GET / 200 in 10ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/2.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/2.pack.gz'
 ✓ Compiled in 113ms (401 modules)
 GET / 200 in 14ms
 ✓ Compiled in 56ms (401 modules)
 GET / 200 in 10ms
 ✓ Compiled in 79ms (401 modules)
 GET / 200 in 44ms
 ✓ Compiled in 57ms (401 modules)
 GET / 200 in 8ms
 ✓ Compiled in 91ms (401 modules)
 GET / 200 in 56ms
 ✓ Compiled in 62ms (401 modules)
 GET / 200 in 10ms
 ⚠ ./lib/research/orchestrator/research-orchestrator.ts
Attempted import error: 'getServiceGenerator' is not exported from '../generators/service-generator' (imported as 'getServiceGenerator').

Import trace for requested module:
./lib/research/orchestrator/research-orchestrator.ts
./app/api/research/route.ts
🔍 Starting research for: test error handling
❌ Route error: TypeError: (0 , _generators_service_generator__WEBPACK_IMPORTED_MODULE_2__.getServiceGenerator) is not a function
    at new ResearchOrchestrator (lib/research/orchestrator/research-orchestrator.ts:15:48)
    at getResearchOrchestrator (lib/research/orchestrator/research-orchestrator.ts:176:27)
    at POST (app/api/research/route.ts:18:48)
  13 |   private perplexityEngine = getPerplexityEngine();
  14 |   private questionGenerator = getQuestionGenerator();
> 15 |   private serviceGenerator = getServiceGenerator();
     |                                                ^
  16 |   private calculationGenerator = getCalculationGenerator();
  17 |   private validator = getContentValidator();
  18 |
 POST /api/research 500 in 225ms
 GET / 200 in 155ms
 ○ Compiling /api/research ...
 ✓ Compiled /api/research in 106ms (954 modules)
 GET / 200 in 56ms
🔍 Starting research for: test api fix
🔍 Performing Perplexity-based active research for: test api fix
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5517
📝 First 500 chars: {
  "sources": [    {
      "title": "Top 10 API Testing Best Practices",
      "url": "https://www.pynt.io/learning-hub/api-testing-guide/top-10-api-testing-best-practices",
      "summary": "This source outlines essential best practices for API testing, including understanding API requirements, automating tests, and selecting appropriate testing tools. It emphasizes the importance of clear requirements to focus testing efforts and the use of automation to increase efficiency and regression cov
📝 Last 200 chars: rformance and error rates post-fix helps maintain long-term reliability",
    "Reusable and maintainable test scripts reduce overhead and improve test coverage consistency"
  ],
  "confidence": 0.85
}
🧹 Cleaned response length: 5517
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Top 10 API Testing Best Practices",
      "url": "https://www.pynt.io/learning-hub/api-testing-guide/top-10-api-testing-best-practices",
      "summary": "This source outlines essential best practices for API testing, including understanding API requirements, au
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 6
✅ Found 6 sources from Perplexity research
🔗 Source titles: [
  'Top 10 API Testing Best Practices',
  'Ultimate Guide to Mastering API Testing in 2024',
  'End-to-End API Testing Guide and Best Practices',
  'API Testing Checklist and Best Practices: A Complete Guide',
  'API Testing Tools and Techniques for Effective Fixes'
]
API call attempt 1
Question 1 formatted: {
  text: 'What is the current test automation coverage percentage for your API endpoints that needs improvement?',
  question: 'What is the current test automation coverage percentage for your API endpoints that needs improvement?',
  slug: 'what_is_the_current_test_automation_coverage_perce',
  hasOptions: true
}
Question 2 formatted: {
  text: 'Which CI/CD pipeline integration level is required for the API test automation framework?',
  question: 'Which CI/CD pipeline integration level is required for the API test automation framework?',
  slug: 'which_cicd_pipeline_integration_level_is_required_',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What is the estimated number of API endpoints that require security testing implementation?',
  question: 'What is the estimated number of API endpoints that require security testing implementation?',
  slug: 'what_is_the_estimated_number_of_api_endpoints_that',
  hasOptions: true
}
Question 4 formatted: {
  text: 'Which authentication mechanism needs to be implemented in the API test framework?',
  question: 'Which authentication mechanism needs to be implemented in the API test framework?',
  slug: 'which_authentication_mechanism_needs_to_be_impleme',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What is your preferred API testing tool for the automation framework?',
  question: 'What is your preferred API testing tool for the automation framework?',
  slug: 'what_is_your_preferred_api_testing_tool_for_the_au',
  hasOptions: true
}
Question 6 formatted: {
  text: 'How many environments require test configuration and standardization?',
  question: 'How many environments require test configuration and standardization?',
  slug: 'how_many_environments_require_test_configuration_a',
  hasOptions: true
}
Question 7 formatted: {
  text: 'What level of API performance monitoring is needed post-fix implementation?',
  question: 'What level of API performance monitoring is needed post-fix implementation?',
  slug: 'what_level_of_api_performance_monitoring_is_needed',
  hasOptions: true
}
✅ Generated 7 AI-driven questions based on research
API call attempt 1
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/2.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/2.pack.gz'
📊 Service volume check: 4 services, 15 total subservices
✅ Generated 4 research-driven services with 15 total subservices
✅ Generated 8 calculations mapped to actual questions
 POST /api/research 200 in 74673ms
 ✓ Compiled in 235ms (927 modules)
 GET / 200 in 79ms
 ✓ Compiled in 69ms (401 modules)
 GET / 200 in 8ms
 ✓ Compiled in 66ms (401 modules)
 GET / 200 in 59ms
 ✓ Compiled in 55ms (401 modules)
 GET / 200 in 9ms
 ✓ Compiled in 53ms (401 modules)
 GET / 200 in 17ms
 ✓ Compiled in 54ms (401 modules)
 GET / 200 in 15ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/server-development/4.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/server-development/4.pack.gz'
 ✓ Compiled /api/research in 46ms (553 modules)
🔍 Starting research for: Salesforce CRM implementation for manufacturing
🔍 Performing Perplexity-based active research for: Salesforce CRM implementation for manufacturing
 GET / 200 in 34ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5273
📝 First 500 chars: {
  "sources": [    {
      "title": "Salesforce Manufacturing Cloud Implementation Guide",
      "url": "https://www.sfapps.info/salesforce-manufacturing-implementation/",
      "summary": "This 2025 guide provides a detailed step-by-step approach to implementing Salesforce Manufacturing Cloud, emphasizing preparation and planning, process audits, strategic objective setting, and assembling cross-functional teams. It highlights how the platform optimizes inventory, forecasting, and collaboratio
📝 Last 200 chars: ion complexity, requiring phased rollouts",
    "Security considerations include configuring user permissions and access controls to safeguard sensitive manufacturing data"
  ],
  "confidence": 0.85
}
🧹 Cleaned response length: 5273
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Salesforce Manufacturing Cloud Implementation Guide",
      "url": "https://www.sfapps.info/salesforce-manufacturing-implementation/",
      "summary": "This 2025 guide provides a detailed step-by-step approach to implementing Salesforce Manufacturing Cloud, emp
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'Salesforce Manufacturing Cloud Implementation Guide',
  'The Definitive Guide to Salesforce Manufacturing Cloud',
  'Salesforce Manufacturing Cloud Implementation Guide 2024',
  'Salesforce Manufacturing Cloud Implementation Guide',
  'Manufacturing Cloud'
]
API call attempt 1
Question 1 formatted: {
  text: 'How many ERP/MES systems need to be integrated with Salesforce Manufacturing Cloud?',
  question: 'How many ERP/MES systems need to be integrated with Salesforce Manufacturing Cloud?',
  slug: 'how_many_erpmes_systems_need_to_be_integrated_with',
  hasOptions: true
}
Question 2 formatted: {
  text: 'What is the estimated volume of historical manufacturing data to be migrated (in GB)?',
  question: 'What is the estimated volume of historical manufacturing data to be migrated (in GB)?',
  slug: 'what_is_the_estimated_volume_of_historical_manufac',
  hasOptions: true
}
Question 3 formatted: {
  text: 'How many custom manufacturing-specific objects will need to be created in Salesforce?',
  question: 'How many custom manufacturing-specific objects will need to be created in Salesforce?',
  slug: 'how_many_custom_manufacturingspecific_objects_will',
  hasOptions: true
}
Question 4 formatted: {
  text: 'What level of workflow automation is required using Flow Builder/OmniStudio?',
  question: 'What level of workflow automation is required using Flow Builder/OmniStudio?',
  slug: 'what_level_of_workflow_automation_is_required_usin',
  hasOptions: true
}
Question 5 formatted: {
  text: 'How many users will require training on the new Salesforce Manufacturing Cloud implementation?',
  question: 'How many users will require training on the new Salesforce Manufacturing Cloud implementation?',
  slug: 'how_many_users_will_require_training_on_the_new_sa',
  hasOptions: true
}
Question 6 formatted: {
  text: 'What is the desired timeline for the complete implementation rollout?',
  question: 'What is the desired timeline for the complete implementation rollout?',
  slug: 'what_is_the_desired_timeline_for_the_complete_impl',
  hasOptions: true
}
Question 7 formatted: {
  text: 'What type of sales agreement and forecasting functionality is needed?',
  question: 'What type of sales agreement and forecasting functionality is needed?',
  slug: 'what_type_of_sales_agreement_and_forecasting_funct',
  hasOptions: true
}
✅ Generated 7 AI-driven questions based on research
API call attempt 1
📊 Service volume check: 4 services, 14 total subservices
📊 PMBOK phase coverage: 100% (5/5 phases)
❌ Insufficient subservices generated: 14 (need 15+)
❌ Research-driven service generation failed: Error: Research-driven generation failed - only 14 subservices generated, need 15+
    at ServiceGenerator.generateServicesFromResearch (lib/research/generators/service-generator.ts:155:16)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:63:23)
    at async Object.start (app/api/research/route.ts:44:26)
  153 |         if (totalSubservices < 15) {
  154 |           console.error(`❌ Insufficient subservices generated: ${totalSubservices} (need 15+)`);
> 155 |           throw new Error(`Research-driven generation failed - only ${totalSubservices} subservices generated, need 15+`);
      |                ^
  156 |         }
  157 |         
  158 |         if (phaseAlignment.coveragePercentage < 80) {
❌ Research orchestration failed: Error: Research-driven generation failed - only 14 subservices generated, need 15+
    at ServiceGenerator.generateServicesFromResearch (lib/research/generators/service-generator.ts:155:16)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:63:23)
    at async Object.start (app/api/research/route.ts:44:26)
  153 |         if (totalSubservices < 15) {
  154 |           console.error(`❌ Insufficient subservices generated: ${totalSubservices} (need 15+)`);
> 155 |           throw new Error(`Research-driven generation failed - only ${totalSubservices} subservices generated, need 15+`);
      |                ^
  156 |         }
  157 |         
  158 |         if (phaseAlignment.coveragePercentage < 80) {
❌ Streaming error: Error: Research-driven content generation failed: Research-driven generation failed - only 14 subservices generated, need 15+
    at ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:120:12)
    at async Object.start (app/api/research/route.ts:44:26)
  118 |
  119 |       // Re-throw error instead of providing empty fallback
> 120 |       throw new Error(`Research-driven content generation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);
      |            ^
  121 |     }
  122 |   }
  123 |
 POST /api/research 200 in 80181ms
🔍 Starting research for: test PMBOK phases
🔍 Performing Perplexity-based active research for: test PMBOK phases
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5702
📝 First 500 chars: {
  "sources": [    {
      "title": "An Overview of the PMBOK® Guide",
      "url": "https://sebokwiki.org/wiki/An_Overview_of_the_PMBOK%C2%AE_Guide",
      "summary": "This source provides a detailed breakdown of the PMBOK® Guide's process groups: Initiating, Planning, Executing, Monitoring and Controlling, and Closing. It describes the key processes within each phase, such as developing project management plans, executing tasks, quality assurance, and project closure activities. It emphasizes
📝 Last 200 chars: ptability.",
    "Implementation must consider resource sizing, stakeholder engagement, and compliance with organizational standards to achieve successful project closure."
  ],
  "confidence": 0.90
}
🧹 Cleaned response length: 5702
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "An Overview of the PMBOK® Guide",
      "url": "https://sebokwiki.org/wiki/An_Overview_of_the_PMBOK%C2%AE_Guide",
      "summary": "This source provides a detailed breakdown of the PMBOK® Guide's process groups: Initiating, Planning, Executing, Monitoring and Co
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'An Overview of the PMBOK® Guide',
  "The PMBOK's Five Project Phases",
  'Choosing Right Project Approach for Your Project | PMI',
  'Understand the 5 Phases of Project Management',
  'PMBOK® Guide – Sixth Edition'
]
API call attempt 1
Question 1 formatted: {
  text: 'What is your expected timeline for completing all project phases from initiation to closure?',
  question: 'What is your expected timeline for completing all project phases from initiation to closure?',
  slug: 'what_is_your_expected_timeline_for_completing_all_',
  hasOptions: true
}
Question 2 formatted: {
  text: 'How many stakeholder departments will need to be actively involved in project planning and execution?',
  question: 'How many stakeholder departments will need to be actively involved in project planning and execution?',
  slug: 'how_many_stakeholder_departments_will_need_to_be_a',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What level of testing complexity do you anticipate for this project?',
  question: 'What level of testing complexity do you anticipate for this project?',
  slug: 'what_level_of_testing_complexity_do_you_anticipate',
  hasOptions: true
}
Question 4 formatted: {
  text: 'How frequently would you like project performance monitoring and status reporting?',
  question: 'How frequently would you like project performance monitoring and status reporting?',
  slug: 'how_frequently_would_you_like_project_performance_',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What is your preferred change management process complexity?',
  question: 'What is your preferred change management process complexity?',
  slug: 'what_is_your_preferred_change_management_process_c',
  hasOptions: true
}
Question 6 formatted: {
  text: 'How many dedicated project team members do you expect to allocate?',
  question: 'How many dedicated project team members do you expect to allocate?',
  slug: 'how_many_dedicated_project_team_members_do_you_exp',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
📊 Service volume check: 4 services, 14 total subservices
📊 PMBOK phase coverage: 100% (5/5 phases)
❌ Insufficient subservices generated: 14 (need 15+)
❌ Research-driven service generation failed: Error: Research-driven generation failed - only 14 subservices generated, need 15+
    at ServiceGenerator.generateServicesFromResearch (lib/research/generators/service-generator.ts:155:16)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:63:23)
    at async Object.start (app/api/research/route.ts:44:26)
  153 |         if (totalSubservices < 15) {
  154 |           console.error(`❌ Insufficient subservices generated: ${totalSubservices} (need 15+)`);
> 155 |           throw new Error(`Research-driven generation failed - only ${totalSubservices} subservices generated, need 15+`);
      |                ^
  156 |         }
  157 |         
  158 |         if (phaseAlignment.coveragePercentage < 80) {
❌ Research orchestration failed: Error: Research-driven generation failed - only 14 subservices generated, need 15+
    at ServiceGenerator.generateServicesFromResearch (lib/research/generators/service-generator.ts:155:16)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:63:23)
    at async Object.start (app/api/research/route.ts:44:26)
  153 |         if (totalSubservices < 15) {
  154 |           console.error(`❌ Insufficient subservices generated: ${totalSubservices} (need 15+)`);
> 155 |           throw new Error(`Research-driven generation failed - only ${totalSubservices} subservices generated, need 15+`);
      |                ^
  156 |         }
  157 |         
  158 |         if (phaseAlignment.coveragePercentage < 80) {
❌ Streaming error: Error: Research-driven content generation failed: Research-driven generation failed - only 14 subservices generated, need 15+
    at ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:120:12)
    at async Object.start (app/api/research/route.ts:44:26)
  118 |
  119 |       // Re-throw error instead of providing empty fallback
> 120 |       throw new Error(`Research-driven content generation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);
      |            ^
  121 |     }
  122 |   }
  123 |
 POST /api/research 200 in 51263ms
🔍 Starting research for: quick PMBOK test
🔍 Performing Perplexity-based active research for: quick PMBOK test
🔍 Perplexity research response received, parsing...
📝 Raw response length: 4722
📝 First 500 chars: {
  "sources": [    {
      "title": "PMBOK® Guide 7th Edition and PMP Exam Prep",
      "url": "https://projectmanagementacademy.net/resources/blog/pmbok-guide-and-the-pmp-exam/",
      "summary": "This source outlines the structure and content of the PMBOK Guide 6th and 7th editions, detailing the five process groups, ten knowledge areas, and 49 processes essential for project management. It highlights the interconnectedness of process groups and knowledge areas, providing a foundational frame
📝 Last 200 chars: ning platforms for accessibility and scalability.",
    "Compliance with PMI standards ensures relevance for PMP exam preparation and professional certification alignment."
  ],
  "confidence": 0.85
}
🧹 Cleaned response length: 4722
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "PMBOK® Guide 7th Edition and PMP Exam Prep",
      "url": "https://projectmanagementacademy.net/resources/blog/pmbok-guide-and-the-pmp-exam/",
      "summary": "This source outlines the structure and content of the PMBOK Guide 6th and 7th editions, detailing the
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'PMBOK® Guide 7th Edition and PMP Exam Prep',
  'PMBOK Guide: What is it, Purpose, and Importance',
  'A Guide to the Project Management Body of Knowledge (PMBOK® Guide) 7th Edition',
  'Which PMBOK® Guide Should I Study for the PMP® Exam?',
  'PMBOK Guide and PMP Exam Preparation Strategies'
]
API call attempt 1
Question 1 formatted: {
  text: 'What is the expected timeline for completing all project deliverables based on the complexity and scope?',
  question: 'What is the expected timeline for completing all project deliverables based on the complexity and scope?',
  slug: 'what_is_the_expected_timeline_for_completing_all_p',
  hasOptions: true
}
Question 2 formatted: {
  text: 'Which project management methodology is most appropriate given the stakeholder requirements and delivery timeline?',
  question: 'Which project management methodology is most appropriate given the stakeholder requirements and delivery timeline?',
  slug: 'which_project_management_methodology_is_most_appro',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What level of project management documentation and governance is required?',
  question: 'What level of project management documentation and governance is required?',
  slug: 'what_level_of_project_management_documentation_and',
  hasOptions: true
}
Question 4 formatted: {
  text: 'How many dedicated team members will be required for successful project execution?',
  question: 'How many dedicated team members will be required for successful project execution?',
  slug: 'how_many_dedicated_team_members_will_be_required_f',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What is the anticipated level of stakeholder engagement and communication needed?',
  question: 'What is the anticipated level of stakeholder engagement and communication needed?',
  slug: 'what_is_the_anticipated_level_of_stakeholder_engag',
  hasOptions: true
}
Question 6 formatted: {
  text: 'What is the estimated complexity level of risk management for this project?',
  question: 'What is the estimated complexity level of risk management for this project?',
  slug: 'what_is_the_estimated_complexity_level_of_risk_man',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
📊 Service volume check: 4 services, 14 total subservices
📊 PMBOK phase coverage: 100% (5/5 phases)
❌ Insufficient subservices generated: 14 (need 15+)
❌ Research-driven service generation failed: Error: Research-driven generation failed - only 14 subservices generated, need 15+
    at ServiceGenerator.generateServicesFromResearch (lib/research/generators/service-generator.ts:155:16)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:63:23)
    at async Object.start (app/api/research/route.ts:44:26)
  153 |         if (totalSubservices < 15) {
  154 |           console.error(`❌ Insufficient subservices generated: ${totalSubservices} (need 15+)`);
> 155 |           throw new Error(`Research-driven generation failed - only ${totalSubservices} subservices generated, need 15+`);
      |                ^
  156 |         }
  157 |         
  158 |         if (phaseAlignment.coveragePercentage < 80) {
❌ Research orchestration failed: Error: Research-driven generation failed - only 14 subservices generated, need 15+
    at ServiceGenerator.generateServicesFromResearch (lib/research/generators/service-generator.ts:155:16)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:63:23)
    at async Object.start (app/api/research/route.ts:44:26)
  153 |         if (totalSubservices < 15) {
  154 |           console.error(`❌ Insufficient subservices generated: ${totalSubservices} (need 15+)`);
> 155 |           throw new Error(`Research-driven generation failed - only ${totalSubservices} subservices generated, need 15+`);
      |                ^
  156 |         }
  157 |         
  158 |         if (phaseAlignment.coveragePercentage < 80) {
❌ Streaming error: Error: Research-driven content generation failed: Research-driven generation failed - only 14 subservices generated, need 15+
    at ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:120:12)
    at async Object.start (app/api/research/route.ts:44:26)
  118 |
  119 |       // Re-throw error instead of providing empty fallback
> 120 |       throw new Error(`Research-driven content generation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);
      |            ^
  121 |     }
  122 |   }
  123 |
 POST /api/research 200 in 51133ms
 ✓ Compiled in 127ms (927 modules)
 GET / 200 in 96ms
 ✓ Compiled in 63ms (401 modules)
 GET / 200 in 10ms
 ✓ Compiled in 72ms (401 modules)
 GET / 200 in 27ms
 ✓ Compiled /api/research in 41ms (553 modules)
🔍 Starting research for: test improved subservice generation
🔍 Performing Perplexity-based active research for: test improved subservice generation
 GET / 200 in 32ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 3095
📝 First 500 chars: ```json
{
  "sources": [
    {
      "title": "Subservice Organization Management—IT Controls for Peace of Mind",
      "url": "https://www.isaca.org/resources/isaca-journal/issues/2023/volume-4/subservice-organization-management-it-controls-for-peace-of-mind",
      "summary": "This article emphasizes the importance of change management, penetration testing, and network assessments in managing subservice organizations. It highlights key questions to ask subservice providers regarding operationa
📝 Last 200 chars: and frameworks.",
    "Evaluate the security posture of subservice providers thoroughly.",
    "Consider cost implications of security testing and compliance measures."
  ],
  "confidence": 0.80
}
```
🧹 Cleaned response length: 3083
🧹 Cleaned first 300 chars: {
  "sources": [
    {
      "title": "Subservice Organization Management—IT Controls for Peace of Mind",
      "url": "https://www.isaca.org/resources/isaca-journal/issues/2023/volume-4/subservice-organization-management-it-controls-for-peace-of-mind",
      "summary": "This article emphasizes the 
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 4
✅ Found 4 sources from Perplexity research
🔗 Source titles: [
  'Subservice Organization Management—IT Controls for Peace of Mind',
  'CIP-002-5 Implementation Guide',
  'DoD Instruction 5000.82',
  'JSIG - Joint SAP Implementation Guide'
]
API call attempt 1
Question 1 formatted: {
  text: 'What level of security testing is required for your subservice implementation?',
  question: 'What level of security testing is required for your subservice implementation?',
  slug: 'what_level_of_security_testing_is_required_for_you',
  hasOptions: true
}
Question 2 formatted: {
  text: 'Which compliance frameworks must the subservice implementation adhere to?',
  question: 'Which compliance frameworks must the subservice implementation adhere to?',
  slug: 'which_compliance_frameworks_must_the_subservice_im',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What is your desired frequency for ongoing security assessments of the subservice?',
  question: 'What is your desired frequency for ongoing security assessments of the subservice?',
  slug: 'what_is_your_desired_frequency_for_ongoing_securit',
  hasOptions: true
}
Question 4 formatted: {
  text: 'What level of change management process documentation is needed?',
  question: 'What level of change management process documentation is needed?',
  slug: 'what_level_of_change_management_process_documentat',
  hasOptions: true
}
Question 5 formatted: {
  text: 'How many subservice providers need to be evaluated for security posture?',
  question: 'How many subservice providers need to be evaluated for security posture?',
  slug: 'how_many_subservice_providers_need_to_be_evaluated',
  hasOptions: true
}
Question 6 formatted: {
  text: 'What type of integration testing is required for the subservice implementation?',
  question: 'What type of integration testing is required for the subservice implementation?',
  slug: 'what_type_of_integration_testing_is_required_for_t',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
📊 Service volume check: 4 services, 17 total subservices
📊 PMBOK phase coverage: 100% (5/5 phases)
✅ Generated 4 research-driven services with 17 total subservices
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 48356ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
 ✓ Compiled in 156ms (927 modules)
 GET / 200 in 78ms
 ✓ Compiled in 52ms (401 modules)
 GET / 200 in 10ms
 ✓ Compiled in 73ms (401 modules)
 GET / 200 in 33ms
 ✓ Compiled in 94ms (401 modules)
 GET / 200 in 11ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
 ✓ Compiled /api/research in 53ms (553 modules)
🔍 Starting research for: test pure PMBOK phases
🔍 Performing Perplexity-based active research for: test pure PMBOK phases
 GET / 200 in 38ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5541
📝 First 500 chars: {
  "sources": [    {
      "title": "The PMBOK's Five Project Phases",
      "url": "https://www.projectengineer.net/the-pmboks-five-project-phases/",
      "summary": "This source details the five distinct phases of the PMBOK project lifecycle: Initiating, Planning, Execution, Monitoring and Controlling, and Closing. It explains the purpose and activities of each phase, emphasizing that while phases are typically sequential, they can be revisited as project changes occur. It also highlights ke
📝 Last 200 chars: for stakeholder complexity and iterative planning needs",
    "Compliance with organizational governance and project management standards is required throughout all phases"
  ],
  "confidence": 0.85
}
🧹 Cleaned response length: 5541
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "The PMBOK's Five Project Phases",
      "url": "https://www.projectengineer.net/the-pmboks-five-project-phases/",
      "summary": "This source details the five distinct phases of the PMBOK project lifecycle: Initiating, Planning, Execution, Monitoring and Contr
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  "The PMBOK's Five Project Phases",
  '5 Phases of Project Management – A Complete Breakdown',
  'PMBOK: The Project Management Body of Knowledge - A Quick Guide',
  'The 10 Knowledge Areas of Project Management',
  '5 Phases of Project Management Life Cycle | Complete Guide'
]
API call attempt 1
Question 1 formatted: {
  text: 'What level of stakeholder complexity do you anticipate for this project?',
  question: 'What level of stakeholder complexity do you anticipate for this project?',
  slug: 'what_level_of_stakeholder_complexity_do_you_antici',
  hasOptions: true
}
Question 2 formatted: {
  text: 'How frequently will formal project documentation updates and reporting be required?',
  question: 'How frequently will formal project documentation updates and reporting be required?',
  slug: 'how_frequently_will_formal_project_documentation_u',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What level of change control process will be needed?',
  question: 'What level of change control process will be needed?',
  slug: 'what_level_of_change_control_process_will_be_neede',
  hasOptions: true
}
Question 4 formatted: {
  text: 'How many iterative planning cycles do you expect will be needed?',
  question: 'How many iterative planning cycles do you expect will be needed?',
  slug: 'how_many_iterative_planning_cycles_do_you_expect_w',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What level of earned value management (EVM) tracking will be required?',
  question: 'What level of earned value management (EVM) tracking will be required?',
  slug: 'what_level_of_earned_value_management_evm_tracking',
  hasOptions: true
}
Question 6 formatted: {
  text: 'How complex are the project deliverables?',
  question: 'How complex are the project deliverables?',
  slug: 'how_complex_are_the_project_deliverables',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
📊 Service volume check: 5 services, 21 total subservices
📊 PMBOK phase coverage: 100% (5/5 phases)
✅ Generated 5 research-driven services with 21 total subservices
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 78142ms
🔍 Starting research for: test pmbok only
🔍 Performing Perplexity-based active research for: test pmbok only
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5699
📝 First 500 chars: {
  "sources": [    {
      "title": "PMBOK: The Project Management Body of Knowledge Explained",
      "url": "https://www.projectmanager.com/blog/project-management-body-of-knowledge-pmbok-a-quick-guide",
      "summary": "This source provides an overview of PMBOK's key components relevant to project management implementation, including scope statement, risk register, change log, stakeholder register, and issue log. It details how these documents and processes support project governance, risk 
📝 Last 200 chars: e transfer and governance.",
    "Sizing and architecture considerations depend on project complexity, requiring scalable frameworks and tools for effective implementation."
  ],
  "confidence": 0.9
}
🧹 Cleaned response length: 5699
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "PMBOK: The Project Management Body of Knowledge Explained",
      "url": "https://www.projectmanager.com/blog/project-management-body-of-knowledge-pmbok-a-quick-guide",
      "summary": "This source provides an overview of PMBOK's key components relevant to proj
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'PMBOK: The Project Management Body of Knowledge Explained',
  'A Guide to the Project Management Body of Knowledge (PMBOK® Guide) – Sixth Edition',
  'A Guide to the Project Management Body of Knowledge - iBIM One (Seventh Edition)',
  "The PMBOK's Five Project Phases - ProjectEngineer",
  'PMBOK® Guide and Agile Practice Guide – Integration'
]
API call attempt 1
Question 1 formatted: {
  text: 'What is the expected project duration based on the identified PMBOK phases (Initiating, Planning, Execution, Monitoring & Controlling, and Closing)?',
  question: 'What is the expected project duration based on the identified PMBOK phases (Initiating, Planning, Execution, Monitoring & Controlling, and Closing)?',
  slug: 'what_is_the_expected_project_duration_based_on_the',
  hasOptions: true
}
Question 2 formatted: {
  text: 'Which project management methodology blend will be primarily used for implementation?',
  question: 'Which project management methodology blend will be primarily used for implementation?',
  slug: 'which_project_management_methodology_blend_will_be',
  hasOptions: true
}
Question 3 formatted: {
  text: 'What level of change control governance is required for this project?',
  question: 'What level of change control governance is required for this project?',
  slug: 'what_level_of_change_control_governance_is_require',
  hasOptions: true
}
Question 4 formatted: {
  text: 'How many key stakeholders will require regular engagement and communication?',
  question: 'How many key stakeholders will require regular engagement and communication?',
  slug: 'how_many_key_stakeholders_will_require_regular_eng',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What level of risk management documentation and monitoring is needed?',
  question: 'What level of risk management documentation and monitoring is needed?',
  slug: 'what_level_of_risk_management_documentation_and_mo',
  hasOptions: true
}
Question 6 formatted: {
  text: 'How many team members will need PMBOK framework training?',
  question: 'How many team members will need PMBOK framework training?',
  slug: 'how_many_team_members_will_need_pmbok_framework_tr',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
📊 Service volume check: 5 services, 20 total subservices
📊 PMBOK phase coverage: 100% (5/5 phases)
✅ Generated 5 research-driven services with 20 total subservices
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 90605ms
🔍 Starting research for: Salesforce CRM implementation
🔍 Performing Perplexity-based active research for: Salesforce CRM implementation
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5247
📝 First 500 chars: {
  "sources": [    {
      "title": "Salesforce Implementation: The Complete Guide [2025]",
      "url": "https://www.codleo.com/blog/salesforce-implementation-complete-guide-2025",
      "summary": "This guide outlines a detailed Salesforce CRM implementation process involving strategy development, project setup, team building, prototype creation, and data analysis. It emphasizes the importance of assembling a cross-functional team, conducting thorough data cleansing and enrichment before migr
📝 Last 200 chars: before going live to identify and resolve issues",
    "Maintain ongoing evaluation and customization post-implementation to ensure the CRM continues to meet business goals"
  ],
  "confidence": 0.9
}
🧹 Cleaned response length: 5247
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Salesforce Implementation: The Complete Guide [2025]",
      "url": "https://www.codleo.com/blog/salesforce-implementation-complete-guide-2025",
      "summary": "This guide outlines a detailed Salesforce CRM implementation process involving strategy development
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'Salesforce Implementation: The Complete Guide [2025]',
  'Mastering Salesforce Implementation in 2025: A Complete Guide',
  'Ultimate Guide to a Salesforce Implementation - Crm.Folio3.Com',
  'CRM Implementation: A Comprehensive 9 Step Guide - Salesforce',
  'Get Started with Sales Cloud Implementation Guide - Salesforce'
]
API call attempt 1
Question 1 formatted: {
  text: 'How many total users will need to be migrated and trained on the Salesforce platform?',
  question: 'How many total users will need to be migrated and trained on the Salesforce platform?',
  slug: 'how_many_total_users_will_need_to_be_migrated_and_',
  hasOptions: true
}
Question 2 formatted: {
  text: 'What is the estimated volume of data records to be migrated to Salesforce?',
  question: 'What is the estimated volume of data records to be migrated to Salesforce?',
  slug: 'what_is_the_estimated_volume_of_data_records_to_be',
  hasOptions: true
}
Question 3 formatted: {
  text: 'Which implementation methodology do you prefer for this project?',
  question: 'Which implementation methodology do you prefer for this project?',
  slug: 'which_implementation_methodology_do_you_prefer_for',
  hasOptions: true
}
Question 4 formatted: {
  text: 'How many third-party system integrations will be required?',
  question: 'How many third-party system integrations will be required?',
  slug: 'how_many_thirdparty_system_integrations_will_be_re',
  hasOptions: true
}
Question 5 formatted: {
  text: 'What level of data cleansing and preparation is needed before migration?',
  question: 'What level of data cleansing and preparation is needed before migration?',
  slug: 'what_level_of_data_cleansing_and_preparation_is_ne',
  hasOptions: true
}
Question 6 formatted: {
  text: 'What type of user training delivery method would you prefer?',
  question: 'What type of user training delivery method would you prefer?',
  slug: 'what_type_of_user_training_delivery_method_would_y',
  hasOptions: true
}
✅ Generated 6 AI-driven questions based on research
API call attempt 1
API call attempt 1 failed: Request timeout after 60000ms
Retrying after 1294.4ms...
API call attempt 2 (retry)
 POST /api/research 200 in 120066ms
API call attempt 2 failed: Request timeout after 60000ms
Retrying after 2470.6ms...
API call attempt 3 (retry)
API call attempt 3 failed: Request timeout after 60000ms
❌ Research-driven service generation failed: Error: Failed after 3 attempts: Request timeout after 60000ms
    at OpenRouterClient.generateWithRetry (lib/research/api/openrouter-client.ts:91:10)
    at async ServiceGenerator.generateServicesFromResearch (lib/research/generators/service-generator.ts:96:24)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:63:23)
    at async Object.start (app/api/research/route.ts:44:26)
  89 |     }
  90 |
> 91 |     throw new Error(`Failed after ${maxRetries} attempts: ${lastError?.message}`);
     |          ^
  92 |   }
  93 |
  94 |   /**
❌ Research orchestration failed: Error: Failed after 3 attempts: Request timeout after 60000ms
    at OpenRouterClient.generateWithRetry (lib/research/api/openrouter-client.ts:91:10)
    at async ServiceGenerator.generateServicesFromResearch (lib/research/generators/service-generator.ts:96:24)
    at async ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:63:23)
    at async Object.start (app/api/research/route.ts:44:26)
  89 |     }
  90 |
> 91 |     throw new Error(`Failed after ${maxRetries} attempts: ${lastError?.message}`);
     |          ^
  92 |   }
  93 |
  94 |   /**
SSE controller closed, cannot send data: TypeError: Invalid state: Controller is already closed
    at sendSSE (app/api/research/route.ts:34:23)
    at eval (app/api/research/route.ts:84:14)
    at ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:114:19)
    at async Object.start (app/api/research/route.ts:44:26)
  32 |           try {
  33 |             const message = `data: ${JSON.stringify(data)}\n\n`;
> 34 |             controller.enqueue(encoder.encode(message));
     |                       ^
  35 |             return true;
  36 |           } catch (error) {
  37 |             console.log('SSE controller closed, cannot send data:', error); {
  code: 'ERR_INVALID_STATE'
}
❌ Streaming error: Error: Research-driven content generation failed: Failed after 3 attempts: Request timeout after 60000ms
    at ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:120:12)
    at async Object.start (app/api/research/route.ts:44:26)
  118 |
  119 |       // Re-throw error instead of providing empty fallback
> 120 |       throw new Error(`Research-driven content generation failed: ${error instanceof Error ? error.message : 'Unknown error'}`);
      |            ^
  121 |     }
  122 |   }
  123 |
SSE controller closed, cannot send data: TypeError: Invalid state: Controller is already closed
    at sendSSE (app/api/research/route.ts:34:23)
    at Object.start (app/api/research/route.ts:108:10)
  32 |           try {
  33 |             const message = `data: ${JSON.stringify(data)}\n\n`;
> 34 |             controller.enqueue(encoder.encode(message));
     |                       ^
  35 |             return true;
  36 |           } catch (error) {
  37 |             console.log('SSE controller closed, cannot send data:', error); {
  code: 'ERR_INVALID_STATE'
}
 ✓ Compiled in 235ms (927 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/2.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/2.pack.gz'
 ✓ Compiled in 68ms (401 modules)
 ⨯ SyntaxError: Unexpected end of JSON input
    at JSON.parse (<anonymous>) {
  page: '/'
}
 ○ Compiling /_error ...
 ✓ Compiled /_error in 651ms (1243 modules)
 GET / 500 in 982ms
 GET / 200 in 50ms
 GET / 200 in 6ms
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 101ms
 ✓ Compiled in 117ms (642 modules)
 ✓ Compiled in 77ms (642 modules)
 ✓ Compiled in 73ms (642 modules)
 ✓ Compiled in 80ms (642 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/1.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/1.pack.gz'
 ✓ Compiled in 78ms (642 modules)
 ✓ Compiled in 75ms (642 modules)
 ✓ Compiled in 70ms (642 modules)
 ✓ Compiled in 61ms (642 modules)
 ✓ Compiled in 67ms (642 modules)
 ✓ Compiled in 83ms (642 modules)
 ✓ Compiled in 58ms (642 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
 ✓ Compiled in 90ms (642 modules)
 ✓ Compiled in 71ms (642 modules)
 ✓ Compiled in 66ms (642 modules)
 ✓ Compiled in 79ms (642 modules)
 ✓ Compiled in 67ms (642 modules)
 ✓ Compiled in 71ms (642 modules)
 ✓ Compiled in 72ms (642 modules)
 ✓ Compiled in 60ms (642 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/2.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/2.pack.gz'
 ✓ Compiled in 74ms (642 modules)
 ✓ Compiled in 77ms (642 modules)
 ✓ Compiled in 93ms (642 modules)
 ✓ Compiled in 64ms (642 modules)
 ✓ Compiled in 94ms (642 modules)
 ✓ Compiled in 93ms (642 modules)
 ✓ Compiled in 63ms (642 modules)
 ✓ Compiled in 66ms (642 modules)
 ✓ Compiled in 119ms (642 modules)
 ✓ Compiled in 75ms (642 modules)
 ✓ Compiled in 66ms (642 modules)
 ✓ Compiled in 82ms (642 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
 ✓ Compiled in 73ms (642 modules)
 ✓ Compiled in 69ms (642 modules)
 ✓ Compiled in 70ms (642 modules)
 ✓ Compiled in 62ms (642 modules)
 ✓ Compiled in 61ms (642 modules)
 ✓ Compiled in 90ms (642 modules)
 ✓ Compiled in 66ms (642 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
 ✓ Compiled in 106ms (642 modules)
 ✓ Compiled in 59ms (642 modules)
 ✓ Compiled in 103ms (642 modules)
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
[?25h
