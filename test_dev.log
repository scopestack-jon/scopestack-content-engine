
> my-v0-project@0.1.0 dev
> next dev

 ⚠ Port 3000 is in use, trying 3001 instead.
   ▲ Next.js 15.2.4
   - Local:        http://localhost:3001
   - Network:      http://192.168.7.111:3001
   - Environments: .env.local

 ✓ Starting...
 ✓ Ready in 1183ms
 ✓ Compiled /api/research in 403ms (410 modules)
OPENROUTER_API_KEY: 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
 POST /api/research 400 in 505ms
🔍 Starting research for: test openrouter api key
🔍 Performing Perplexity-based active research for: test openrouter api key
API call attempt 1 failed: HTTP 404: Not Found
Retrying after 1135.4069937520696ms...
API call attempt 2 failed: HTTP 404: Not Found
Retrying after 2816.830304827192ms...
API call attempt 3 failed: HTTP 404: Not Found
❌ Perplexity research failed: Error: HTTP 404: Not Found
    at OptimizedAPIClient.makeAPICall (lib/api-optimizations.ts:183:16)
    at async CircuitBreaker.execute (lib/api-optimizations.ts:83:21)
    at async OptimizedAPIClient.callWithOptimizations (lib/api-optimizations.ts:140:19)
    at async performPerplexityResearch (app/api/research/route.ts:1289:21)
    at async Object.start (app/api/research/route.ts:1864:31)
  181 |         
  182 |         if (!response.ok) {
> 183 |           throw new Error(`HTTP ${response.status}: ${response.statusText}`)
      |                ^
  184 |         }
  185 |         
  186 |         const data = await response.json()
✅ Generated 5 AI-driven questions based on research
✅ Generated 3 AI-driven services based on research
✅ Generated 5 calculations mapped to actual questions
 POST /api/research 200 in 26769ms
 ✓ Compiled in 110ms (134 modules)
 ✓ Compiled in 62ms (134 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: test perplexity model fix
🔍 Performing Perplexity-based active research for: test perplexity model fix
API call attempt 1 failed: HTTP 400: Bad Request
Retrying after 1922.612198653737ms...
API call attempt 2 failed: HTTP 400: Bad Request
Retrying after 2688.04366908731ms...
API call attempt 3 failed: HTTP 400: Bad Request
❌ Perplexity research failed: Error: HTTP 400: Bad Request
    at OptimizedAPIClient.makeAPICall (lib/api-optimizations.ts:183:16)
    at async CircuitBreaker.execute (lib/api-optimizations.ts:83:21)
    at async OptimizedAPIClient.callWithOptimizations (lib/api-optimizations.ts:140:19)
    at async performPerplexityResearch (app/api/research/route.ts:1289:21)
    at async Object.start (app/api/research/route.ts:1864:31)
  181 |         
  182 |         if (!response.ok) {
> 183 |           throw new Error(`HTTP ${response.status}: ${response.statusText}`)
      |                ^
  184 |         }
  185 |         
  186 |         const data = await response.json()
✅ Generated 5 AI-driven questions based on research
Failed to parse AI services: SyntaxError: Unexpected token 'I', "I apologiz"... is not valid JSON
    at JSON.parse (<anonymous>)
    at generateServicesFromResearch (app/api/research/route.ts:1659:24)
    at async Object.start (app/api/research/route.ts:1907:27)
  1657 |         services = JSON.parse(jsonMatch[0]);
  1658 |       } else {
> 1659 |         services = JSON.parse(aiContent);
       |                        ^
  1660 |       }
  1661 |     } catch (parseError) {
  1662 |       console.warn('Failed to parse AI services:', parseError);
✅ Generated 5 calculations mapped to actual questions
 POST /api/research 200 in 18741ms
 ✓ Compiled in 10ms
 ✓ Compiled /api/research in 95ms (134 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: Salesforce implementation for healthcare with 200 users
🔍 Performing Perplexity-based active research for: Salesforce implementation for healthcare with 200 users
🔍 Perplexity research response received, parsing...
📝 Raw response length: 6669
📝 First 500 chars: {
  "sources": [    {
      "title": "Salesforce Health Cloud Implementation Guide 2025",
      "url": "https://www.getgenerative.ai/salesforce-health-cloud-implementation-guide/",
      "summary": "Provides a detailed step-by-step guide for implementing Salesforce Health Cloud in healthcare settings, covering business objectives, team building, data assessment, platform configuration, and integration with EHR systems using FHIR standards. It emphasizes compliance and regulatory alignment and in
📝 Last 200 chars: tinuity of care during the transition.",
    "Security architecture must incorporate encryption, access controls, and compliance auditing to protect sensitive patient data."
  ],
  "confidence": 0.9
}
🧹 Cleaned response length: 6669
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Salesforce Health Cloud Implementation Guide 2025",
      "url": "https://www.getgenerative.ai/salesforce-health-cloud-implementation-guide/",
      "summary": "Provides a detailed step-by-step guide for implementing Salesforce Health Cloud in healthcare setting
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 9
✅ Found 9 sources from Perplexity research
🔗 Source titles: [
  'Salesforce Health Cloud Implementation Guide 2025',
  'The Ultimate Guide to Salesforce Health Cloud Implementation for Healthcare Providers',
  'Salesforce Health Cloud Implementation Guide 2024',
  'Successfully Implementing Salesforce for Healthcare',
  'Complete Guide to Salesforce Health Cloud'
]
✅ Generated 5 AI-driven questions based on research
✅ Generated 4 AI-driven services based on research
✅ Generated 5 calculations mapped to actual questions
 POST /api/research 200 in 74276ms
 ○ Compiling / ...
 ✓ Compiled / in 1230ms (927 modules)
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 1393ms
 ✓ Compiled in 209ms (401 modules)
 ✓ Compiled /api/research in 81ms (546 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: Apple MDM Solution for a corporate environment 
🔍 Performing Perplexity-based active research for: Apple MDM Solution for a corporate environment 
🔍 Perplexity research response received, parsing...
📝 Raw response length: 7807
📝 First 500 chars: ```json
{
  "sources": [    {
      "title": "Apple Business Manager - Getting Started Guide",
      "url": "https://www.apple.com/business/docs/site/Apple_Business_Manager_Getting_Started_Guide.pdf",
      "summary": "Official Apple guide for setting up and managing Apple Business Manager, including MDM server authorization, device assignment, and integration with Apple Configurator. Covers both Apple-purchased and third-party devices, provisioning workflows, and default server assignment.",
  
📝 Last 200 chars: , security, architecture, and regulatory considerations.

**Confidence**: High, due to reliance on Apple’s own documentation and support resources, which are current, comprehensive, and authoritative.
🧹 Cleaned response length: 6198
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Apple Business Manager - Getting Started Guide",
      "url": "https://www.apple.com/business/docs/site/Apple_Business_Manager_Getting_Started_Guide.pdf",
      "summary": "Official Apple guide for setting up and managing Apple Business Manager, including MDM se
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 10
✅ Found 10 sources from Perplexity research
🔗 Source titles: [
  'Apple Business Manager - Getting Started Guide',
  'Managed Devices and Corporate Data',
  'Choose a mobile device management solution - Apple Support',
  "Exploring Apple's MDM Framework",
  'Understanding How MDM Works'
]
✅ Generated 6 AI-driven questions based on research
✅ Generated 4 AI-driven services based on research
✅ Generated 6 calculations mapped to actual questions
 POST /api/research 200 in 73239ms
 ✓ Compiled in 266ms (927 modules)
 ✓ Compiled in 199ms (927 modules)
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 148ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/1.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/1.pack.gz'
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/server-development/12.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/server-development/12.pack.gz'
 ✓ Compiled /api/research in 45ms (546 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: Cisco Firepower Firewall implantation, migrating from a Palo Alto firewall with 100 ACL's, and support for 10 remote sites and 100 vpn users.
🔍 Performing Perplexity-based active research for: Cisco Firepower Firewall implantation, migrating from a Palo Alto firewall with 100 ACL's, and support for 10 remote sites and 100 vpn users.
🔍 Perplexity research response received, parsing...
📝 Raw response length: 6905
📝 First 500 chars: {
  "sources": [    {
      "title": "Cisco Firewall Quick Start Guide (Firepower 1010 setup) - YouTube",
      "url": "https://www.youtube.com/watch?v=-mzRctMg2pM",
      "summary": "Step-by-step video guide for initial setup and configuration of Cisco Firepower 1010 firewall, including interface setup, routing, licensing, ACLs, NAT, and policy configuration, useful for understanding baseline deployment and ACL migration.",
      "credibility": "medium",
      "relevance": 0.75,
      "sourceTy
📝 Last 200 chars: user bases and site-to-site connectivity.",
    "Official installation and upgrade guides ensure proper hardware and software deployment for Firepower 1000 series devices."
  ],
  "confidence": 0.90
}
🧹 Cleaned response length: 6905
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Cisco Firewall Quick Start Guide (Firepower 1010 setup) - YouTube",
      "url": "https://www.youtube.com/watch?v=-mzRctMg2pM",
      "summary": "Step-by-step video guide for initial setup and configuration of Cisco Firepower 1010 firewall, including interface s
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 10
✅ Found 10 sources from Perplexity research
🔗 Source titles: [
  'Cisco Firewall Quick Start Guide (Firepower 1010 setup) - YouTube',
  'Cisco Firepower Hardening Guide - Department of Defense',
  'Cisco Secure Firewall Reference Guide',
  'Cisco Firepower 1000 Series - Install and Upgrade Guides',
  'Cisco Secure Firewall Threat Defense - Install and Upgrade Guides'
]
✅ Generated 5 AI-driven questions based on research
✅ Generated 4 AI-driven services based on research
✅ Generated 5 calculations mapped to actual questions
 POST /api/research 200 in 61710ms
 ✓ Compiled in 209ms (927 modules)
 GET / 200 in 66ms
 ✓ Compiled in 136ms (927 modules)
 GET / 200 in 51ms
 ✓ Compiled /api/research in 37ms (546 modules)
OPENROUTER_API_KEY: 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
🔍 Starting research for: Cisco Wireless Survey and Implementation for 5ghz in a warehouse
🔍 Performing Perplexity-based active research for: Cisco Wireless Survey and Implementation for 5ghz in a warehouse
🔍 Perplexity research response received, parsing...
📝 Raw response length: 4259
📝 First 500 chars: ```json
{
  "sources": [    {
      "title": "Understand Site Survey Guidelines for WLAN Deployment",
      "url": "https://www.cisco.com/c/en/us/support/docs/wireless/5500-series-wireless-controllers/116057-site-survey-guidelines-wlan-00.html",
      "summary": "Cisco’s official guide on WLAN site surveys, covering planning, preparation, and execution for wireless deployments, including passive, active, and predictive survey types. Essential for understanding Cisco’s methodology for RF assessme
📝 Last 200 chars: ditional sources from Cisco’s technical whitepaper library, regulatory bodies (e.g., FCC, ETSI), and professional services case studies would be ideal but were not found in the current search results.
🧹 Cleaned response length: 3691
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "Understand Site Survey Guidelines for WLAN Deployment",
      "url": "https://www.cisco.com/c/en/us/support/docs/wireless/5500-series-wireless-controllers/116057-site-survey-guidelines-wlan-00.html",
      "summary": "Cisco’s official guide on WLAN site surveys,
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 4
✅ Found 4 sources from Perplexity research
🔗 Source titles: [
  'Understand Site Survey Guidelines for WLAN Deployment',
  'Warehouse Wi-Fi - Best Practice',
  'Survey Mode 5Ghz ? - The Meraki Community',
  'optimizing wireless signal in warehouse'
]
✅ Generated 6 AI-driven questions based on research
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: ENOENT: no such file or directory, rename '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz_' -> '/Users/jon/scopestack-content-engine/.next/cache/webpack/client-development/0.pack.gz'
✅ Generated 4 AI-driven services based on research
✅ Generated 6 calculations mapped to actual questions
 POST /api/research 200 in 49145ms
 ✓ Compiled in 79ms (401 modules)
 GET / 200 in 53ms
 ✓ Compiled in 58ms (401 modules)
 GET / 200 in 8ms
 ✓ Compiled in 56ms (401 modules)
 GET / 200 in 21ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 74ms (401 modules)
 GET / 200 in 26ms
 ✓ Compiled in 57ms (401 modules)
 GET / 200 in 8ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 88ms (401 modules)
 GET / 200 in 41ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 67ms (401 modules)
 GET / 200 in 28ms
 ✓ Compiled in 54ms (401 modules)
 GET / 200 in 7ms
 ✓ Compiled in 51ms (401 modules)
 GET / 200 in 9ms
 ✓ Compiled in 52ms (401 modules)
 GET / 200 in 31ms
 ✓ Compiled in 53ms (401 modules)
 GET / 200 in 7ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
 ✓ Compiled in 70ms (401 modules)
 GET / 200 in 117ms
 ✓ Compiled in 75ms (401 modules)
 GET / 200 in 8ms
 ✓ Compiled in 111ms (927 modules)
 GET / 200 in 78ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 110ms
 ✓ Compiled /api/research in 113ms (553 modules)
🔍 Starting research for: Microsoft Email Migration to Office 365 for a Hospital with 1000 users
🔍 Performing Perplexity-based active research for: Microsoft Email Migration to Office 365 for a Hospital with 1000 users
 GET / 200 in 91ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5278
📝 First 500 chars: {
  "sources": [    {
      "title": "How to seamlessly migrate Microsoft Exchange to Office 365",
      "url": "https://exclaimer.com/email-signature-handbook/how-to-migrate-microsoft-exchange-to-office-365/",
      "summary": "This guide details a staged migration approach from Microsoft Exchange to Office 365, including domain verification, DNS record updates, directory synchronization with Azure AD Connect, migration endpoint creation, mail flow configuration, coexistence planning, and mailb
📝 Last 200 chars: hared mailboxes must be carefully managed to avoid service disruption",
    "Migration timelines should accommodate testing phases for mail flow and user access validation"
  ],
  "confidence": 0.85
}
🧹 Cleaned response length: 5278
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "How to seamlessly migrate Microsoft Exchange to Office 365",
      "url": "https://exclaimer.com/email-signature-handbook/how-to-migrate-microsoft-exchange-to-office-365/",
      "summary": "This guide details a staged migration approach from Microsoft Exchange 
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'How to seamlessly migrate Microsoft Exchange to Office 365',
  'Use the Microsoft 365 and Office 365 mail migration advisor',
  'Ways to migrate multiple email accounts to Microsoft 365 or Office 365',
  'Microsoft 365 Migration Guide: Steps & Checklist',
  'Office 365 Migration Plan: 8 Key Steps For a Successful Migration'
]
API call attempt 1
✅ Generated 6 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
❌ Research orchestration failed: ReferenceError: Cannot access 'content' before initialization
    at eval (app/api/research/route.ts:71:39)
    at ResearchOrchestrator.generateContent (lib/research/orchestrator/research-orchestrator.ts:103:19)
    at async Object.start (app/api/research/route.ts:44:26)
  69 |             } else if (event.type === 'complete') {
  70 |               // Format sources for frontend compatibility (expects "URL | Title | Quality" format)
> 71 |               const formattedSources = content.sources.map((source: any) => 
     |                                       ^
  72 |                 `${source.url} | ${source.title} | ${source.credibility.toUpperCase()}`
  73 |               );
  74 |               
 POST /api/research 200 in 47486ms
 ✓ Compiled in 155ms (927 modules)
 GET / 200 in 88ms
<w> [webpack.cache.PackFileCacheStrategy] Caching failed for pack: Error: incorrect data check
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 115ms
 ✓ Compiled /api/research in 58ms (553 modules)
🔍 Starting research for: Microsoft Email Migration to Office 365 for a Hospital with 1000 users
🔍 Performing Perplexity-based active research for: Microsoft Email Migration to Office 365 for a Hospital with 1000 users
 GET / 200 in 105ms
🔍 Perplexity research response received, parsing...
📝 Raw response length: 5312
📝 First 500 chars: ```json
{
  "sources": [    {
      "title": "How to seamlessly migrate Microsoft Exchange to Office 365",
      "url": "https://exclaimer.com/email-signature-handbook/how-to-migrate-microsoft-exchange-to-office-365/",
      "summary": "Provides a step-by-step guide for migrating from Microsoft Exchange to Office 365, including domain verification, directory synchronization, migration endpoint setup, mail flow configuration, and mailbox migration. Emphasizes coexistence planning and monitoring d
📝 Last 200 chars: rtner with healthcare experience can mitigate risks and accelerate the migration, especially for organizations with complex integrations or compliance requirements[3]."
  ],
  "confidence": 0.85
}
```
🧹 Cleaned response length: 5300
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "How to seamlessly migrate Microsoft Exchange to Office 365",
      "url": "https://exclaimer.com/email-signature-handbook/how-to-migrate-microsoft-exchange-to-office-365/",
      "summary": "Provides a step-by-step guide for migrating from Microsoft Exchange to 
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'How to seamlessly migrate Microsoft Exchange to Office 365',
  'Use the Microsoft 365 and Office 365 mail migration advisor',
  'Ways to migrate multiple email accounts to Microsoft 365 or Office 365',
  'Microsoft 365 Migration Guide: Steps & Checklist',
  'Office 365 Migration Plan: 8 Key Steps For a Successful Email Migration'
]
API call attempt 1
✅ Generated 7 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 8 calculations mapped to actual questions
 POST /api/research 200 in 43442ms
Checking if should render ContentOutput. generatedContent: null
 GET / 200 in 100ms
🔍 Starting research for: Nutanix hyperconverged infrastructure install to support E Clinical Works EMR Build - supporting redundancy across 2 data centers.
🔍 Performing Perplexity-based active research for: Nutanix hyperconverged infrastructure install to support E Clinical Works EMR Build - supporting redundancy across 2 data centers.
🔍 Perplexity research response received, parsing...
📝 Raw response length: 6614
📝 First 500 chars: {
  "sources": [    {
      "title": "The Definitive Guide to Hyperconverged Infrastructure - SHI",
      "url": "https://www.content.shi.com/cms-content/accelerator/media/pdfs/nutanix/nutanix-032023-ebook-hyperconverged-infrastructure.pdf",
      "summary": "This comprehensive guide provides an overview of Nutanix hyperconverged infrastructure (HCI) including hardware platform configurations that can be independently scaled for CPU, RAM, and storage. It details Nutanix Cloud Infrastructure (NCI
📝 Last 200 chars: intain synchronous or asynchronous failover.",
    "Compliance with healthcare regulations demands robust data protection, auditability, and disaster recovery capabilities."
  ],
  "confidence": 0.9
}
🧹 Cleaned response length: 6614
🧹 Cleaned first 300 chars: {
  "sources": [    {
      "title": "The Definitive Guide to Hyperconverged Infrastructure - SHI",
      "url": "https://www.content.shi.com/cms-content/accelerator/media/pdfs/nutanix/nutanix-032023-ebook-hyperconverged-infrastructure.pdf",
      "summary": "This comprehensive guide provides an ove
✅ JSON parsing successful
📊 Parsed object keys: [ 'sources', 'researchSummary', 'keyInsights', 'confidence' ]
📊 Sources array length: 5
✅ Found 5 sources from Perplexity research
🔗 Source titles: [
  'The Definitive Guide to Hyperconverged Infrastructure - SHI',
  'Nutanix Cloud Infrastructure (NCI) - The Foundation for Your Hybrid Cloud',
  '5 Easy Steps to Setting up and Managing Cloud-ready Infrastructure',
  'Cisco Compute Hyperconverged with Nutanix - Software Support Guidelines',
  'What is Hyperconverged Infrastructure (HCI) - FAQs | Nutanix'
]
API call attempt 1
✅ Generated 6 AI-driven questions based on research
API call attempt 1
✅ Generated 4 AI-driven services based on research
✅ Generated 7 calculations mapped to actual questions
 POST /api/research 200 in 42539ms
